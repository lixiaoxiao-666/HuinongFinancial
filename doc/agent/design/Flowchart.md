# 数字惠农应用 - 用户操作流程图

## 1. 概述

本文档描述数字惠农APP及OA后台管理系统的核心用户操作流程，通过流程图的形式展示用户从进入系统到完成核心任务的完整路径。

## 2. 用户端核心流程

### 2.1 用户注册登录流程

```mermaid
flowchart TD
    A[用户访问APP] --> B{是否已注册}
    B -->|否| C[点击注册]
    B -->|是| D[点击登录]
    
    C --> E[输入手机号]
    E --> F[获取验证码]
    F --> G[输入验证码]
    G --> H[设置密码]
    H --> I[注册成功]
    I --> J[自动登录]
    
    D --> K[输入手机号和密码]
    K --> L{登录验证}
    L -->|成功| M[进入首页]
    L -->|失败| N[显示错误信息]
    N --> D
    
    J --> M
    M --> O[显示底部导航]
    O --> P[用户可开始使用功能]
```

### 2.2 惠农贷申请流程

```mermaid
flowchart TD
    A[用户进入首页] --> B[点击惠农贷]
    B --> C[浏览贷款产品]
    C --> D[选择贷款产品]
    D --> E[查看产品详情]
    E --> F{是否申请}
    F -->|否| C
    F -->|是| G[点击立即申请]
    
    G --> H[填写个人信息]
    H --> I[填写贷款信息]
    I --> J[上传证明材料]
    J --> K[确认申请信息]
    K --> L[提交申请]
    
    L --> M[显示申请成功]
    M --> N[获得申请编号]
    N --> O[转入进度查询页面]
    
    O --> P[实时查看审批状态]
    P --> Q{审批完成?}
    Q -->|否| R[继续等待]
    R --> P
    Q -->|是| S{审批结果}
    S -->|通过| T[收到放款通知]
    S -->|拒绝| U[查看拒绝原因]
    
    T --> V[查看贷款详情]
    U --> W[可重新申请]
```

### 2.3 农机租赁流程

```mermaid
flowchart TD
    A[用户进入农机租赁] --> B[浏览农机列表]
    B --> C[筛选/搜索农机]
    C --> D[查看农机详情]
    D --> E{是否租赁}
    E -->|否| B
    E -->|是| F[选择租赁日期]
    
    F --> G[填写租赁信息]
    G --> H[提交租赁申请]
    H --> I[等待农机主确认]
    
    I --> J{农机主处理}
    J -->|同意| K[确认租赁订单]
    J -->|拒绝| L[选择其他农机]
    L --> B
    
    K --> M[线下交付农机]
    M --> N[开始使用]
    N --> O[租赁期满]
    O --> P[归还农机]
    P --> Q[完成租赁]
    Q --> R[互相评价]
```

## 3. 管理端核心流程

### 3.1 管理员登录流程

```mermaid
flowchart TD
    A[管理员访问后台] --> B[输入用户名密码]
    B --> C{登录验证}
    C -->|失败| D[显示错误信息]
    D --> B
    C -->|成功| E[进入工作台首页]
    E --> F[显示侧边栏菜单]
    F --> G[显示统计概览]
    G --> H[管理员可开始工作]
```

### 3.2 贷款审批流程

```mermaid
flowchart TD
    A[用户提交贷款申请] --> B[系统接收申请]
    B --> C[触发AI智能审批]
    
    C --> D[AI信息收集]
    D --> E[AI数据验证]
    E --> F[AI风险评估]
    F --> G{AI初审结果}
    
    G -->|自动通过| H[直接批准]
    G -->|自动拒绝| I[直接拒绝]
    G -->|需人工复核| J[转入人工审批队列]
    
    J --> K[审批员查看看板]
    K --> L[点击待审批申请]
    L --> M[查看AI分析详情]
    M --> N[审批员进行人工复核]
    
    N --> O{人工审批决策}
    O -->|通过| P[人工批准]
    O -->|拒绝| Q[人工拒绝]
    O -->|需补充材料| R[要求补充材料]
    
    H --> S[通知用户审批通过]
    I --> T[通知用户审批拒绝]
    P --> S
    Q --> T
    R --> U[用户补充材料]
    U --> J
    
    S --> V[等待放款]
    T --> W[申请流程结束]
```

### 3.3 AI审批控制流程

```mermaid
flowchart TD
    A[管理员进入控制面板] --> B[查看AI审批状态]
    B --> C{当前AI状态}
    C -->|开启| D[AI审批正常运行]
    C -->|关闭| E[所有申请转人工处理]
    
    D --> F{是否需要关闭}
    F -->|是| G[点击关闭按钮]
    F -->|否| H[继续监控]
    
    E --> I{是否需要开启}
    I -->|是| J[点击开启按钮]
    I -->|否| K[继续人工处理]
    
    G --> L[确认关闭操作]
    L --> M[AI审批停止]
    M --> N[新申请转入人工队列]
    
    J --> O[确认开启操作]
    O --> P[AI审批恢复]
    P --> Q[新申请进入AI流程]
    
    H --> R[实时监控处理量]
    R --> S[查看处理统计]
    S --> T[优化审批策略]
```

## 4. 用户与系统交互流程

### 4.1 消息通知流程

```mermaid
flowchart TD
    A[系统事件触发] --> B{事件类型}
    B -->|申请状态变更| C[生成状态通知]
    B -->|系统公告| D[生成公告通知]
    B -->|审批提醒| E[生成审批提醒]
    
    C --> F[更新应用内消息]
    D --> F
    E --> F
    
    F --> G[发送短信通知]
    G --> H[用户收到通知]
    H --> I[用户打开APP]
    I --> J[查看消息中心]
    J --> K[处理相关事务]
```

### 4.2 文件上传流程

```mermaid
flowchart TD
    A[用户选择上传文件] --> B{文件类型验证}
    B -->|不支持| C[显示格式错误]
    B -->|支持| D{文件大小验证}
    
    D -->|超过限制| E[显示大小错误]
    D -->|符合要求| F[开始上传]
    
    F --> G[显示上传进度]
    G --> H{上传结果}
    H -->|成功| I[显示上传成功]
    H -->|失败| J[显示上传失败]
    
    I --> K[文件保存到服务器]
    K --> L[返回文件ID]
    L --> M[更新表单数据]
    
    C --> N[用户重新选择]
    E --> N
    J --> O[用户可重试上传]
    N --> A
    O --> A
```

## 5. 异常处理流程

### 5.1 网络异常处理

```mermaid
flowchart TD
    A[用户操作触发请求] --> B[发送API请求]
    B --> C{网络连接}
    C -->|正常| D[服务器处理]
    C -->|异常| E[显示网络错误]
    
    D --> F{服务器响应}
    F -->|成功| G[更新界面]
    F -->|失败| H[显示业务错误]
    
    E --> I[提供重试按钮]
    H --> J[显示错误详情]
    
    I --> K{用户选择}
    K -->|重试| B
    K -->|取消| L[返回上级页面]
    
    J --> M{错误类型}
    M -->|认证失败| N[跳转登录页]
    M -->|权限不足| O[显示权限提示]
    M -->|业务错误| P[显示具体错误信息]
```

### 5.2 表单验证流程

```mermaid
flowchart TD
    A[用户填写表单] --> B[用户点击提交]
    B --> C[前端表单验证]
    C --> D{验证结果}
    D -->|失败| E[显示验证错误]
    D -->|通过| F[发送请求到后端]
    
    E --> G[高亮错误字段]
    G --> H[显示错误提示]
    H --> I[用户修改表单]
    I --> A
    
    F --> J[后端数据验证]
    J --> K{后端验证结果}
    K -->|失败| L[返回验证错误]
    K -->|通过| M[业务逻辑处理]
    
    L --> N[显示后端错误]
    N --> I
    
    M --> O[处理成功]
    O --> P[显示成功提示]
    P --> Q[跳转结果页面]
```

这些流程图清晰地展示了用户在使用数字惠农APP和OA后台管理系统时的操作路径，有助于开发团队理解用户需求和系统逻辑。

---

**文档版本**：v1.0  
**更新时间**：2024-03-12  
**维护人员**：UI/UX设计团队 