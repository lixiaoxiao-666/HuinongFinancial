# æ•°å­—æƒ å†œç³»ç»Ÿ - API æ¥å£æ–‡æ¡£æ€»è§ˆ

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

æ•°å­—æƒ å†œç³»ç»Ÿæ˜¯ä¸€ä¸ªç»¼åˆæ€§çš„æ™ºæ…§å†œä¸šæœåŠ¡å¹³å°ï¼Œä¸ºå†œæˆ·æä¾›é‡‘èæœåŠ¡ã€å†œæœºç§Ÿèµã€æ”¿ç­–èµ„è®¯ã€æŠ€æœ¯æŒ‡å¯¼ç­‰ä¸€ç«™å¼æœåŠ¡ã€‚ç³»ç»Ÿé‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œæ”¯æŒç§»åŠ¨ç«¯APPã€Webç«¯å’ŒOAåå°ç®¡ç†ä¸‰å¤§å¹³å°ã€‚

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å‰ç«¯åº”ç”¨å±‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ç§»åŠ¨ç«¯APP      â”‚     Webç«¯        â”‚    OAç®¡ç†åå°     â”‚ Difyå·¥ä½œæµ  â”‚
â”‚   (iOS/Android)   â”‚   (Vue3 + TS)    â”‚   (Vue3 + TS)    â”‚   AIç³»ç»Ÿ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      APIç½‘å…³å±‚ (Gin + ä¸­é—´ä»¶)                         â”‚
â”‚     ç»Ÿä¸€è·¯ç”±ã€Redisä¼šè¯è®¤è¯ã€å¹³å°éš”ç¦»ã€é™æµã€ç›‘æ§ã€æ—¥å¿—                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ä¸šåŠ¡æœåŠ¡å±‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç”¨æˆ·ç®¡ç†   â”‚ è´·æ¬¾æœåŠ¡   â”‚ å†œæœºç§Ÿèµ   â”‚ å†…å®¹ç®¡ç†   â”‚ OAç®¡ç†   â”‚ ç³»ç»Ÿç®¡ç†     â”‚
â”‚ Service   â”‚ Service   â”‚ Service   â”‚ Service   â”‚ Service   â”‚ Service     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¼šè¯ç®¡ç†   â”‚ æ–‡ä»¶ç®¡ç†   â”‚ ä»»åŠ¡ç®¡ç†   â”‚ Difyé›†æˆ   â”‚ ç›‘æ§ç»Ÿè®¡  â”‚ æ—¥å¿—å®¡è®¡     â”‚
â”‚ Service   â”‚ Service   â”‚ Service   â”‚ Service   â”‚ Service   â”‚ Service     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®å­˜å‚¨å±‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MySQL    â”‚  Redis    â”‚ MongoDB   â”‚   OSS     â”‚  Kafka   â”‚ Elasticsearchâ”‚
â”‚ ä¸»æ•°æ®åº“   â”‚ ç¼“å­˜/ä¼šè¯  â”‚ æ—¥å¿—/ç»Ÿè®¡  â”‚ æ–‡ä»¶å­˜å‚¨   â”‚ æ¶ˆæ¯é˜Ÿåˆ— â”‚ æœç´¢å¼•æ“     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”§ æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**: Golang + Gin + GORM
- **è®¤è¯ç³»ç»Ÿ**: Redisåˆ†å¸ƒå¼ä¼šè¯ç®¡ç†
- **æ•°æ®åº“**: MySQL 8.0 + Redis 6.0
- **AIé›†æˆ**: Difyå·¥ä½œæµå¹³å°
- **æ–‡ä»¶å­˜å‚¨**: é˜¿é‡Œäº‘OSS / MinIO
- **æ¶ˆæ¯é˜Ÿåˆ—**: Apache Kafka
- **æœç´¢å¼•æ“**: Elasticsearch (å¯é€‰)
- **ç›‘æ§**: Prometheus + Grafana
- **éƒ¨ç½²**: Docker + Kubernetes

---

## ğŸ“š APIæ¨¡å—åˆ—è¡¨

### ğŸ” 1. ä¼šè¯ç®¡ç†æ¨¡å— [`session_management.md`](./session_management.md)
åŸºäºRedisçš„é«˜æ€§èƒ½åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šå¹³å°ã€å¤šåç«¯å®ä¾‹çš„ä¼šè¯åŒæ­¥ã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ”‘ **æ™ºèƒ½è®¤è¯**: ç”¨æˆ·ç™»å½•/ç™»å‡º/è‡ªåŠ¨Tokenåˆ·æ–°
- ğŸŒ **åˆ†å¸ƒå¼ä¼šè¯**: å¤šåç«¯å®ä¾‹å…±äº«ç”¨æˆ·ä¼šè¯çŠ¶æ€
- ğŸ“± **å¤šç«¯ç™»å½•**: æ”¯æŒAPP/Web/OAåŒæ—¶ç™»å½•ç®¡ç†
- ğŸ”’ **å®‰å…¨æ§åˆ¶**: å¼ºåˆ¶ä¸‹çº¿/è®¾å¤‡ç»‘å®š/å¼‚å¸¸æ£€æµ‹
- ğŸ“Š **æ™ºèƒ½è®¾å¤‡è¯†åˆ«**: è‡ªåŠ¨è¯†åˆ«æµè§ˆå™¨ç±»å‹ï¼Œä¼˜åŒ–è®¾å¤‡æ˜¾ç¤º
- ğŸ‘¥ **ä¼šè¯ç›‘æ§**: ç®¡ç†å‘˜å®æ—¶ä¼šè¯ç®¡ç†å’Œç»Ÿè®¡
- âš¡ **é«˜æ€§èƒ½**: Redisæ¯«ç§’çº§ä¼šè¯éªŒè¯ï¼Œæ”¯æŒé«˜å¹¶å‘

**ä¸»è¦æ¥å£:**
```http
# æƒ å†œç”¨æˆ·è®¤è¯
POST   /api/auth/login           # ç”¨æˆ·ç™»å½•
POST   /api/auth/register        # ç”¨æˆ·æ³¨å†Œ
POST   /api/auth/refresh         # Tokenåˆ·æ–°
GET    /api/auth/validate        # ä¼šè¯éªŒè¯
POST   /api/user/logout          # ç”¨æˆ·ç™»å‡º

# OAç³»ç»Ÿè®¤è¯
POST   /api/oa/auth/login        # OAç®¡ç†å‘˜ç™»å½•
POST   /api/oa/auth/refresh      # OA Tokenåˆ·æ–°
GET    /api/oa/auth/validate     # OAä¼šè¯éªŒè¯
POST   /api/oa/auth/logout       # OAç™»å‡º

# ä¼šè¯ç®¡ç†
GET    /api/user/session/info    # è·å–ç”¨æˆ·ä¼šè¯ä¿¡æ¯
GET    /api/user/session/list    # è·å–ç”¨æˆ·æ‰€æœ‰ä¼šè¯
POST   /api/user/session/revoke-others # æ³¨é”€å…¶ä»–è®¾å¤‡

# ç®¡ç†å‘˜ä¼šè¯ç›‘æ§
GET    /api/oa/admin/sessions/statistics # ä¼šè¯ç»Ÿè®¡
GET    /api/oa/admin/sessions/active     # æ´»è·ƒä¼šè¯åˆ—è¡¨
POST   /api/oa/admin/sessions/cleanup    # æ¸…ç†è¿‡æœŸä¼šè¯
DELETE /api/oa/admin/sessions/{id}       # å¼ºåˆ¶æ³¨é”€ä¼šè¯
```

### ğŸ‘¤ 2. ç”¨æˆ·ç®¡ç†æ¨¡å— [`user_management.md`](./user_management.md)
å®Œæ•´çš„ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œæ”¯æŒå¤šç§ç”¨æˆ·ç±»å‹å’Œèº«ä»½è®¤è¯ã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ“ **ç”¨æˆ·æ³¨å†Œç™»å½•** (æ‰‹æœº/å¯†ç /éªŒè¯ç )
- ğŸ†” **èº«ä»½è®¤è¯** (å®å/é“¶è¡Œå¡/å¾ä¿¡)
- ğŸ“‹ **ä¿¡æ¯ç®¡ç†** (ä¸ªäººèµ„æ–™/åœ°å€/å¤´åƒ)
- ğŸ·ï¸ **ç”¨æˆ·æ ‡ç­¾** (è¡Œä¸ºåˆ†æ/ç²¾å‡†æ¨è)
- ğŸ‘¥ **åå°ç®¡ç†** (ç”¨æˆ·åˆ—è¡¨/çŠ¶æ€ç®¡ç†/æ‰¹é‡æ“ä½œ)

**ä¸»è¦æ¥å£:**
```http
# ç”¨æˆ·åŸºç¡€ç®¡ç†
GET    /api/user/profile         # è·å–ç”¨æˆ·ä¿¡æ¯
PUT    /api/user/profile         # æ›´æ–°ç”¨æˆ·ä¿¡æ¯
PUT    /api/user/password        # ä¿®æ”¹å¯†ç 

# ç”¨æˆ·æ ‡ç­¾ç³»ç»Ÿ
GET    /api/user/tags            # è·å–ç”¨æˆ·æ ‡ç­¾
POST   /api/user/tags            # æ·»åŠ ç”¨æˆ·æ ‡ç­¾
DELETE /api/user/tags/{tag_key}  # åˆ é™¤ç”¨æˆ·æ ‡ç­¾

# èº«ä»½è®¤è¯
POST   /api/user/auth/real-name  # å®åè®¤è¯ç”³è¯·
POST   /api/user/auth/bank-card  # é“¶è¡Œå¡è®¤è¯ç”³è¯·

# OAåå°ç”¨æˆ·ç®¡ç†
GET    /api/oa/admin/users       # è·å–ç”¨æˆ·åˆ—è¡¨
GET    /api/oa/admin/users/statistics # ç”¨æˆ·ç»Ÿè®¡
GET    /api/oa/admin/users/{id}  # è·å–ç”¨æˆ·è¯¦æƒ…
PUT    /api/oa/admin/users/{id}/status # æ›´æ–°ç”¨æˆ·çŠ¶æ€
POST   /api/oa/admin/users/batch-operation # æ‰¹é‡æ“ä½œç”¨æˆ·
GET    /api/oa/admin/users/{id}/auth-status # è·å–è®¤è¯çŠ¶æ€
```

### ğŸ’° 3. è´·æ¬¾ç®¡ç†æ¨¡å— [`loan_management.md`](./loan_management.md)
æ™ºèƒ½åŒ–è´·æ¬¾æœåŠ¡ï¼Œé›†æˆAIé£é™©è¯„ä¼°å’Œè‡ªåŠ¨åŒ–å®¡æ‰¹æµç¨‹ã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ¦ **è´·æ¬¾äº§å“ç®¡ç†** (äº§å“ç›®å½•/è¯¦æƒ…æŸ¥è¯¢)
- ğŸ“‹ **ç”³è¯·æµç¨‹** (åœ¨çº¿ç”³è¯·/ææ–™ä¸Šä¼ /çŠ¶æ€è·Ÿè¸ª)
- ğŸ¤– **AIæ™ºèƒ½å®¡æ‰¹** (é£é™©è¯„ä¼°/é¢åº¦è®¡ç®—)
- ğŸ‘¨â€ğŸ’¼ **ç®¡ç†å‘˜å®¡æ‰¹** (ç”³è¯·å®¡æ ¸/çŠ¶æ€ç®¡ç†/ç»Ÿè®¡åˆ†æ)
- ğŸ“Š **æ•°æ®ç»Ÿè®¡** (ç”³è¯·ç»Ÿè®¡/é£é™©ç›‘æ§)

**ä¸»è¦æ¥å£:**
```http
# ç”¨æˆ·ç«¯è´·æ¬¾åŠŸèƒ½
GET    /api/user/loan/products   # è·å–è´·æ¬¾äº§å“
GET    /api/user/loan/products/{id} # è·å–äº§å“è¯¦æƒ…
POST   /api/user/loan/applications # æäº¤è´·æ¬¾ç”³è¯·
GET    /api/user/loan/applications # è·å–ç”¨æˆ·ç”³è¯·åˆ—è¡¨
GET    /api/user/loan/applications/{id} # è·å–ç”³è¯·è¯¦æƒ…
DELETE /api/user/loan/applications/{id} # å–æ¶ˆç”³è¯·

# OAåå°è´·æ¬¾ç®¡ç†
GET    /api/oa/admin/loans/applications # è·å–ç”³è¯·åˆ—è¡¨
GET    /api/oa/admin/loans/applications/{id} # è·å–ç”³è¯·è¯¦æƒ…
POST   /api/oa/admin/loans/applications/{id}/approve # æ‰¹å‡†ç”³è¯·
POST   /api/oa/admin/loans/applications/{id}/reject  # æ‹’ç»ç”³è¯·
POST   /api/oa/admin/loans/applications/{id}/return  # é€€å›ç”³è¯·
POST   /api/oa/admin/loans/applications/{id}/start-review # å¼€å§‹å®¡æ ¸
POST   /api/oa/admin/loans/applications/{id}/retry-ai # é‡è¯•AIè¯„ä¼°
GET    /api/oa/admin/loans/statistics # è·å–è´·æ¬¾ç»Ÿè®¡
```

### ğŸšœ 4. å†œæœºç§Ÿèµæ¨¡å— [`machine_rental.md`](./machine_rental.md)
å…¨æµç¨‹å†œæœºç§ŸèµæœåŠ¡ï¼Œæ”¯æŒè®¾å¤‡æœç´¢ã€é¢„çº¦ã€ä½¿ç”¨è·Ÿè¸ªå’Œå½’è¿˜ç®¡ç†ã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ” **è®¾å¤‡ç®¡ç†** (å†œæœºæ³¨å†Œ/æœç´¢/è¯¦æƒ…æŸ¥è¯¢)
- ğŸ“… **è®¢å•ç®¡ç†** (åˆ›å»ºè®¢å•/æ”¯ä»˜/ç¡®è®¤/å®Œæˆ)
- ğŸ’¼ **æµç¨‹æ§åˆ¶** (è®¢å•çŠ¶æ€è·Ÿè¸ª/è¯„ä»·ç³»ç»Ÿ)
- ğŸ‘¨â€ğŸ’¼ **åå°ç®¡ç†** (è®¾å¤‡å®¡æ ¸/çŠ¶æ€ç›‘æ§)

**ä¸»è¦æ¥å£:**
```http
# ç”¨æˆ·ç«¯å†œæœºåŠŸèƒ½
POST   /api/user/machines        # æ³¨å†Œå†œæœºè®¾å¤‡
GET    /api/user/machines        # è·å–ç”¨æˆ·å†œæœºåˆ—è¡¨
GET    /api/user/machines/search # æœç´¢å†œæœºè®¾å¤‡
GET    /api/user/machines/{id}   # è·å–å†œæœºè¯¦æƒ…
POST   /api/user/machines/{id}/orders # åˆ›å»ºç§Ÿèµè®¢å•

# è®¢å•ç®¡ç†
GET    /api/user/orders          # è·å–ç”¨æˆ·è®¢å•åˆ—è¡¨
PUT    /api/user/orders/{id}/confirm  # ç¡®è®¤è®¢å•
POST   /api/user/orders/{id}/pay      # æ”¯ä»˜è®¢å•
PUT    /api/user/orders/{id}/complete # å®Œæˆè®¢å•
PUT    /api/user/orders/{id}/cancel   # å–æ¶ˆè®¢å•
POST   /api/user/orders/{id}/rate     # è¯„ä»·è®¢å•

# OAåå°å†œæœºç®¡ç†
GET    /api/oa/admin/machines    # è·å–å†œæœºåˆ—è¡¨
GET    /api/oa/admin/machines/{id} # è·å–å†œæœºè¯¦æƒ…
```

### ğŸ“° 5. å†…å®¹ç®¡ç†æ¨¡å— [`content_management.md`](./content_management.md)
ä¸°å¯Œçš„å†œä¸šå†…å®¹æœåŠ¡ï¼Œæä¾›èµ„è®¯ã€æ”¿ç­–ã€ä¸“å®¶å’¨è¯¢ç­‰ä¿¡æ¯åŒ–æ”¯æŒã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ“° **æ–‡ç« ç®¡ç†** (å†œä¸šèµ„è®¯/æŠ€æœ¯æ–‡ç« /åˆ†ç±»ç®¡ç†)
- ğŸ‘¨â€ğŸ“ **ä¸“å®¶å’¨è¯¢** (ä¸“å®¶ä¿¡æ¯/åœ¨çº¿å’¨è¯¢)
- ğŸ”” **å…¬å‘Šç®¡ç†** (ç³»ç»Ÿå…¬å‘Š/é€šçŸ¥å‘å¸ƒ)
- ğŸ·ï¸ **å†…å®¹åˆ†ç±»** (åˆ†ç±»ç®¡ç†/æ ‡ç­¾ç³»ç»Ÿ)

**ä¸»è¦æ¥å£:**
```http
# å…¬å…±å†…å®¹API (å¯é€‰è®¤è¯)
GET    /api/content/articles     # è·å–æ–‡ç« åˆ—è¡¨
GET    /api/content/articles/featured # è·å–æ¨èæ–‡ç« 
GET    /api/content/articles/{id} # è·å–æ–‡ç« è¯¦æƒ…
GET    /api/content/categories   # è·å–æ–‡ç« åˆ†ç±»
GET    /api/content/experts      # è·å–ä¸“å®¶åˆ—è¡¨
GET    /api/content/experts/{id} # è·å–ä¸“å®¶è¯¦æƒ…

# ç”¨æˆ·ç«¯å’¨è¯¢åŠŸèƒ½
POST   /api/user/consultations   # æäº¤å’¨è¯¢é—®é¢˜
GET    /api/user/consultations   # è·å–å’¨è¯¢è®°å½•

# OAåå°å†…å®¹ç®¡ç†
POST   /api/oa/admin/content/articles # åˆ›å»ºæ–‡ç« 
PUT    /api/oa/admin/content/articles/{id} # æ›´æ–°æ–‡ç« 
DELETE /api/oa/admin/content/articles/{id} # åˆ é™¤æ–‡ç« 
POST   /api/oa/admin/content/articles/{id}/publish # å‘å¸ƒæ–‡ç« 

# å…¬å‘Šç®¡ç†
GET    /api/oa/admin/content/announcements # è·å–å…¬å‘Šåˆ—è¡¨
POST   /api/oa/admin/content/announcements # åˆ›å»ºå…¬å‘Š
PUT    /api/oa/admin/content/announcements/{id} # æ›´æ–°å…¬å‘Š
DELETE /api/oa/admin/content/announcements/{id} # åˆ é™¤å…¬å‘Š

# åˆ†ç±»å’Œä¸“å®¶ç®¡ç†
POST   /api/oa/admin/content/categories # åˆ›å»ºåˆ†ç±»
PUT    /api/oa/admin/content/categories/{id} # æ›´æ–°åˆ†ç±»
DELETE /api/oa/admin/content/categories/{id} # åˆ é™¤åˆ†ç±»
POST   /api/oa/admin/content/experts   # åˆ›å»ºä¸“å®¶
PUT    /api/oa/admin/content/experts/{id} # æ›´æ–°ä¸“å®¶
DELETE /api/oa/admin/content/experts/{id} # åˆ é™¤ä¸“å®¶
```

### ğŸ¢ 6. OAåå°ç®¡ç†æ¨¡å— [`oa_management.md`](./oa_management.md)
å…¨é¢çš„åå°ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒä¸šåŠ¡å®¡æ‰¹ã€æ•°æ®ç»Ÿè®¡ã€ç³»ç»Ÿé…ç½®ç­‰ç®¡ç†éœ€æ±‚ã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ‘¥ **ç”¨æˆ·ç®¡ç†** (ç”¨æˆ·åˆ—è¡¨/çŠ¶æ€ç®¡ç†/æƒé™æ§åˆ¶)
- ğŸ“‹ **è®¤è¯å®¡æ ¸** (å®åè®¤è¯/é“¶è¡Œå¡å®¡æ ¸/æ‰¹é‡å¤„ç†)
- ğŸ“Š **æ•°æ®ç»Ÿè®¡** (ä¸šåŠ¡æŠ¥è¡¨/é£é™©ç›‘æ§/ç”¨æˆ·åˆ†æ)
- âš™ï¸ **ç³»ç»Ÿé…ç½®** (å‚æ•°è®¾ç½®/å¥åº·æ£€æŸ¥)
- ğŸ“Š **å·¥ä½œå°** (ä»ªè¡¨ç›˜/é£é™©ç›‘æ§/æ¦‚è§ˆç»Ÿè®¡)

**ä¸»è¦æ¥å£:**
```http
# OAç”¨æˆ·ä¸ªäººåŠŸèƒ½
GET    /api/oa/user/profile      # è·å–OAç”¨æˆ·ä¿¡æ¯
PUT    /api/oa/user/profile      # æ›´æ–°OAç”¨æˆ·ä¿¡æ¯
PUT    /api/oa/user/password     # ä¿®æ”¹å¯†ç 
GET    /api/oa/user/loan/applications # æŸ¥çœ‹ä¸ªäººç”³è¯·

# è®¤è¯å®¡æ ¸ç®¡ç†
GET    /api/oa/admin/auth/list   # è·å–è®¤è¯ç”³è¯·åˆ—è¡¨
GET    /api/oa/admin/auth/{id}   # è·å–è®¤è¯è¯¦æƒ…
POST   /api/oa/admin/auth/{id}/review # å®¡æ ¸è®¤è¯ç”³è¯·
POST   /api/oa/admin/auth/batch-review # æ‰¹é‡å®¡æ ¸
GET    /api/oa/admin/auth/statistics # è®¤è¯ç»Ÿè®¡
GET    /api/oa/admin/auth/export # å¯¼å‡ºè®¤è¯æ•°æ®

# å·¥ä½œå°å’Œç»Ÿè®¡
GET    /api/oa/admin/dashboard   # è·å–å·¥ä½œå°æ•°æ®
GET    /api/oa/admin/dashboard/overview # è·å–ä¸šåŠ¡æ¦‚è§ˆ
GET    /api/oa/admin/dashboard/risk-monitoring # é£é™©ç›‘æ§æ•°æ®
```

### ğŸ“ 7. æ–‡ä»¶ç®¡ç†æ¨¡å— [`file_management.md`](./file_management.md)
å®‰å…¨é«˜æ•ˆçš„æ–‡ä»¶ä¸Šä¼ ä¸‹è½½æœåŠ¡ï¼Œæ”¯æŒå¤šç§æ–‡ä»¶ç±»å‹å’Œæ‰¹é‡æ“ä½œã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ“¤ **æ–‡ä»¶ä¸Šä¼ ** (å•æ–‡ä»¶/æ‰¹é‡ä¸Šä¼ /ç±»å‹éªŒè¯)
- ğŸ“¥ **æ–‡ä»¶ä¸‹è½½** (å®‰å…¨ä¸‹è½½/æƒé™æ§åˆ¶)
- ğŸ—‚ï¸ **æ–‡ä»¶ç®¡ç†** (æ–‡ä»¶åˆ é™¤/ç»Ÿè®¡ä¿¡æ¯)
- ğŸ”’ **å®‰å…¨æ§åˆ¶** (æ–‡ä»¶ç±»å‹éªŒè¯/å­˜å‚¨é…é¢/æƒé™æ£€æŸ¥)

**ä¸»è¦æ¥å£:**
```http
POST   /api/user/files/upload    # å•æ–‡ä»¶ä¸Šä¼ 
POST   /api/user/files/upload/batch # æ‰¹é‡æ–‡ä»¶ä¸Šä¼ 
GET    /api/user/files/{id}      # è·å–æ–‡ä»¶ä¿¡æ¯/ä¸‹è½½
DELETE /api/user/files/{id}      # åˆ é™¤æ–‡ä»¶
```

### ğŸ“‹ 8. ä»»åŠ¡ç®¡ç†æ¨¡å— [`task_management.md`](./task_management.md)
å…¨é¢çš„ä»»åŠ¡æµç¨‹ç®¡ç†ï¼Œæ”¯æŒä»»åŠ¡åˆ†é…ã€å¤„ç†ã€è¿›åº¦è·Ÿè¸ªã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ“ **ä»»åŠ¡ç®¡ç†** (åˆ›å»º/æ›´æ–°/åˆ é™¤/æŸ¥è¯¢)
- ğŸ‘¥ **ä»»åŠ¡åˆ†é…** (æŒ‡æ´¾/é‡æ–°åˆ†é…/å–æ¶ˆåˆ†é…)
- ğŸ“Š **è¿›åº¦è·Ÿè¸ª** (çŠ¶æ€æ›´æ–°/è¿›åº¦æŸ¥è¯¢)
- ğŸ“‹ **å¾…åŠç®¡ç†** (å¾…å¤„ç†ä»»åŠ¡/ä¼˜å…ˆçº§ç®¡ç†)

**ä¸»è¦æ¥å£:**
```http
GET    /api/oa/admin/tasks       # è·å–ä»»åŠ¡åˆ—è¡¨
POST   /api/oa/admin/tasks       # åˆ›å»ºä»»åŠ¡
GET    /api/oa/admin/tasks/{id}  # è·å–ä»»åŠ¡è¯¦æƒ…
PUT    /api/oa/admin/tasks/{id}  # æ›´æ–°ä»»åŠ¡
DELETE /api/oa/admin/tasks/{id}  # åˆ é™¤ä»»åŠ¡
GET    /api/oa/admin/tasks/pending # è·å–å¾…å¤„ç†ä»»åŠ¡

# ä»»åŠ¡å¤„ç†æ“ä½œ
POST   /api/oa/admin/tasks/{id}/process  # å¤„ç†ä»»åŠ¡
POST   /api/oa/admin/tasks/{id}/assign   # åˆ†é…ä»»åŠ¡
POST   /api/oa/admin/tasks/{id}/unassign # å–æ¶ˆåˆ†é…
POST   /api/oa/admin/tasks/{id}/reassign # é‡æ–°åˆ†é…
GET    /api/oa/admin/tasks/{id}/progress # è·å–ä»»åŠ¡è¿›åº¦
```

### ğŸ¤– 9. Difyå·¥ä½œæµé›†æˆæ¨¡å— [`dify_integration.md`](./dify_integration.md)
ä¸AIå¹³å°æ·±åº¦é›†æˆï¼Œæä¾›æ™ºèƒ½é£é™©è¯„ä¼°å’Œæ•°æ®åˆ†ææœåŠ¡ã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ” **æ•°æ®æŸ¥è¯¢** (è´·æ¬¾ç”³è¯·è¯¦æƒ…/å†œæœºç§Ÿèµä¿¡æ¯)
- ğŸ¤– **AIè¯„ä¼°** (é£é™©è¯„ä¼°æäº¤/å¾ä¿¡æŸ¥è¯¢)
- ğŸ” **å®‰å…¨è®¤è¯** (ä¸“ç”¨Tokenè®¤è¯/æ•°æ®è„±æ•)
- ğŸ“Š **æ™ºèƒ½åˆ†æ** (æ•°æ®æŒ–æ˜/é¢„æµ‹åˆ†æ)

**ä¸»è¦æ¥å£:**
```http
# è´·æ¬¾ç›¸å…³AIæ¥å£
POST   /api/internal/dify/loan/get-application-details # è·å–è´·æ¬¾ç”³è¯·è¯¦æƒ…
POST   /api/internal/dify/loan/submit-assessment # æäº¤é£é™©è¯„ä¼°ç»“æœ

# å†œæœºç›¸å…³AIæ¥å£
POST   /api/internal/dify/machine/get-rental-details # è·å–å†œæœºç§Ÿèµè¯¦æƒ…

# å¾ä¿¡ç›¸å…³AIæ¥å£
POST   /api/internal/dify/credit/query # å¾ä¿¡æŸ¥è¯¢
```

### âš™ï¸ 10. ç³»ç»Ÿç®¡ç†æ¨¡å— [`system_management.md`](./system_management.md)
ç³»ç»Ÿçº§é…ç½®å’Œç›‘æ§åŠŸèƒ½ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šè¿è¡Œã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ”§ **ç³»ç»Ÿé…ç½®** (å‚æ•°é…ç½®/å…¬å…±é…ç½®)
- ğŸ’Š **å¥åº·æ£€æŸ¥** (æœåŠ¡çŠ¶æ€/ç³»ç»Ÿç›‘æ§)
- ğŸ“Š **ç»Ÿè®¡åˆ†æ** (ç³»ç»Ÿç»Ÿè®¡/æ€§èƒ½ç›‘æ§)
- ğŸ“‹ **ç‰ˆæœ¬ç®¡ç†** (ç‰ˆæœ¬ä¿¡æ¯/æ›´æ–°è®°å½•)

**ä¸»è¦æ¥å£:**
```http
# å…¬å…±ç³»ç»Ÿæ¥å£
GET    /health                   # å¥åº·æ£€æŸ¥
GET    /api/public/version       # è·å–ç³»ç»Ÿç‰ˆæœ¬
GET    /api/public/configs       # è·å–å…¬å…±é…ç½®

# ç®¡ç†å‘˜ç³»ç»Ÿç®¡ç†
GET    /api/oa/admin/system/config # è·å–ç³»ç»Ÿé…ç½®
PUT    /api/oa/admin/system/config # è®¾ç½®ç³»ç»Ÿé…ç½®
GET    /api/oa/admin/system/configs # è·å–é…ç½®åˆ—è¡¨
GET    /api/oa/admin/system/health  # ç³»ç»Ÿå¥åº·æ£€æŸ¥
GET    /api/oa/admin/system/statistics # è·å–ç³»ç»Ÿç»Ÿè®¡
```

---

## ğŸ”— APIè®¾è®¡è§„èŒƒ

### ğŸ“‹ URLè§„èŒƒ
```
{protocol}://{domain}/api/{module}/{resource}[/{id}][/{action}]

ç¤ºä¾‹ï¼š
https://api.huinong.com/api/user/profile
https://api.huinong.com/api/oa/admin/loans/applications/123/approve
https://api.huinong.com/api/internal/dify/loan/get-application-details
```

### ğŸ·ï¸ è·¯ç”±åˆ†ç»„è§„èŒƒ
- `/api/public/*` - å…¬å¼€APIï¼Œæ— éœ€è®¤è¯
- `/api/auth/*` - æƒ å†œç”¨æˆ·è®¤è¯ç›¸å…³
- `/api/user/*` - æƒ å†œç”¨æˆ·åŠŸèƒ½ (éœ€è¦è®¤è¯)
- `/api/content/*` - å…¬å…±å†…å®¹ (å¯é€‰è®¤è¯)
- `/api/oa/auth/*` - OAç³»ç»Ÿè®¤è¯ç›¸å…³  
- `/api/oa/user/*` - OAæ™®é€šç”¨æˆ·åŠŸèƒ½
- `/api/oa/admin/*` - OAç®¡ç†å‘˜åŠŸèƒ½
- `/api/internal/dify/*` - Difyå·¥ä½œæµå†…éƒ¨è°ƒç”¨

### ğŸ·ï¸ HTTPæ–¹æ³•è§„èŒƒ
- `GET` - æŸ¥è¯¢æ•°æ®
- `POST` - åˆ›å»ºèµ„æº/æ‰§è¡Œæ“ä½œ
- `PUT` - æ›´æ–°æ•´ä¸ªèµ„æº
- `PATCH` - éƒ¨åˆ†æ›´æ–°èµ„æº
- `DELETE` - åˆ é™¤èµ„æº

### ğŸ“¦ å“åº”æ ¼å¼è§„èŒƒ
```json
{
    "code": 200,
    "message": "æ“ä½œæˆåŠŸ",
    "data": {
        // å“åº”æ•°æ®
    },
    "meta": {
        "timestamp": "2024-01-15T10:30:00Z",
        "request_id": "req_abc123",
        "pagination": {
            "page": 1,
            "limit": 20,
            "total": 100
        }
    }
}
```

### ğŸ”’ è®¤è¯æ–¹å¼
```http
Authorization: Bearer {access_token}
```

### âš ï¸ é”™è¯¯ç è§„èŒƒ
```
1xxx - ç”¨æˆ·ç›¸å…³é”™è¯¯
2xxx - è´·æ¬¾ç›¸å…³é”™è¯¯  
3xxx - å†œæœºç›¸å…³é”™è¯¯
4xxx - OAç®¡ç†ç›¸å…³é”™è¯¯
5xxx - å†…å®¹ç›¸å…³é”™è¯¯
6xxx - ç³»ç»Ÿç›¸å…³é”™è¯¯
```

---

## ğŸ” è®¤è¯ä¸æˆæƒ

ç³»ç»Ÿé‡‡ç”¨åŸºäºRedisçš„ç»Ÿä¸€ä¼šè¯ç®¡ç†æœºåˆ¶ï¼Œä¸ºä¸åŒå¹³å°ï¼ˆæƒ å†œAPPã€æƒ å†œWebã€OAåå°ï¼‰æä¾›å®‰å…¨ã€é«˜æ•ˆçš„è®¤è¯æœåŠ¡ã€‚

### ğŸ”‘ æ ¸å¿ƒè®¤è¯æµç¨‹

1.  **ç™»å½•è·å–Token**:
    *   æƒ å†œAPP/Webç”¨æˆ·é€šè¿‡ `/api/auth/login` ç™»å½•ã€‚
    *   OAç³»ç»Ÿç”¨æˆ·é€šè¿‡ `/api/oa/auth/login` ç™»å½•ã€‚
    *   æˆåŠŸç™»å½•åï¼Œè¿”å› `access_token` å’Œ `refresh_token`ã€‚
2.  **è®¿é—®å—ä¿æŠ¤API**:
    *   åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ `Authorization: Bearer {access_token}`ã€‚
3.  **TokenéªŒè¯ä¸å¹³å°æ£€æŸ¥**:
    *   `RequireAuth()`: éªŒè¯Tokenæœ‰æ•ˆæ€§ï¼Œå¹¶å°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥ä¸Šä¸‹æ–‡ã€‚
    *   `CheckPlatform("{platform}")`: æ£€æŸ¥å½“å‰ç”¨æˆ·çš„å¹³å°æ˜¯å¦ç¬¦åˆæ¥å£è¦æ±‚ã€‚
    *   `RequireRole("{role}")`: (ä»…OAç®¡ç†å‘˜æ¥å£) æ£€æŸ¥OAç”¨æˆ·è§’è‰²ã€‚
4.  **Tokenåˆ·æ–°**:
    *   ä½¿ç”¨ `refresh_token` é€šè¿‡ `/api/auth/refresh` æˆ– `/api/oa/auth/refresh` è·å–æ–°Tokenã€‚

### ğŸ›¡ï¸ æƒé™æ¨¡å‹

1.  **å¹³å°éš”ç¦»**: TokenåŒ…å«å¹³å°ä¿¡æ¯ (`app`, `web`, `oa`)ï¼Œé€šè¿‡ `CheckPlatform()` ä¸­é—´ä»¶æ§åˆ¶è®¿é—®ã€‚
2.  **è·¯ç”±åˆ†ç»„**: ä¸åŒå¹³å°APIé€šè¿‡è·¯ç”±å‰ç¼€ç‰©ç†éš”ç¦»ã€‚
3.  **è§’è‰²æƒé™**: OAç³»ç»Ÿé€šè¿‡ `RequireRole("admin")` æ§åˆ¶ç®¡ç†å‘˜æƒé™ã€‚

### ğŸ« ä¸­é—´ä»¶é“¾

```go
// åŸºç¡€ä¸­é—´ä»¶
Recovery() -> RequestLogger() -> CORS()

// è®¤è¯ä¸­é—´ä»¶
RequireAuth() -> CheckPlatform("oa") -> RequireRole("admin")

// å¯é€‰è®¤è¯
OptionalAuth() // ä¸ºç™»å½•ç”¨æˆ·æä¾›ä¸ªæ€§åŒ–å†…å®¹
```

### ğŸš¦ APIç«¯ç‚¹æƒé™ç¤ºä¾‹

| APIç«¯ç‚¹ | è®¤è¯è¦æ±‚ | å¹³å°è¦æ±‚ | è§’è‰²è¦æ±‚ | è¯´æ˜ |
|---------|----------|----------|----------|------|
| `POST /api/auth/login` | æ—  | N/A | N/A | æƒ å†œç”¨æˆ·ç™»å½• |
| `GET /api/user/profile` | `RequireAuth` | `app`/`web` | N/A | æƒ å†œç”¨æˆ·ä¿¡æ¯ |
| `GET /api/oa/user/profile` | `RequireAuth` | `oa` | N/A | OAæ™®é€šç”¨æˆ·ä¿¡æ¯ |
| `GET /api/oa/admin/users` | `RequireAuth` | `oa` | `admin` | OAç®¡ç†å‘˜åŠŸèƒ½ |
| `GET /api/content/articles` | `OptionalAuth` | N/A | N/A | å…¬å¼€å†…å®¹ |
| `POST /api/internal/dify/*` | Dify Token | N/A | N/A | AIå·¥ä½œæµè°ƒç”¨ |

---

## ğŸ“Š æ•°æ®æ¨¡å‹å…³ç³»

```
Users (æƒ å†œç”¨æˆ·è¡¨)
â”œâ”€â”€ UserAuths (è®¤è¯ä¿¡æ¯)
â”œâ”€â”€ UserSessions (ä¼šè¯è®°å½•) 
â”œâ”€â”€ UserTags (ç”¨æˆ·æ ‡ç­¾)
â””â”€â”€ UserTransactions (äº¤æ˜“è®°å½•)

OAUsers (OAç”¨æˆ·è¡¨)
â”œâ”€â”€ OARoles (è§’è‰²æƒé™)
â”œâ”€â”€ OASessions (OAä¼šè¯)
â””â”€â”€ OAOperationLogs (æ“ä½œæ—¥å¿—)

LoanApplications (è´·æ¬¾ç”³è¯·)
â”œâ”€â”€ LoanProducts (è´·æ¬¾äº§å“)
â”œâ”€â”€ LoanReviews (å®¡æ‰¹è®°å½•)
â””â”€â”€ AIAssessments (AIè¯„ä¼°è®°å½•)

MachineRentals (å†œæœºç§Ÿèµ)
â”œâ”€â”€ Machines (å†œæœºè®¾å¤‡)
â”œâ”€â”€ MachineOrders (ç§Ÿèµè®¢å•)
â””â”€â”€ OrderRatings (è¯„ä»·åé¦ˆ)

Content (å†…å®¹ç®¡ç†)
â”œâ”€â”€ Articles (æ–‡ç« èµ„è®¯)
â”œâ”€â”€ Experts (ä¸“å®¶ä¿¡æ¯)
â”œâ”€â”€ Consultations (å’¨è¯¢è®°å½•)
â”œâ”€â”€ Announcements (ç³»ç»Ÿå…¬å‘Š)
â””â”€â”€ Categories (å†…å®¹åˆ†ç±»)

Tasks (ä»»åŠ¡ç®¡ç†)
â”œâ”€â”€ TaskAssignments (ä»»åŠ¡åˆ†é…)
â”œâ”€â”€ TaskProgress (ä»»åŠ¡è¿›åº¦)
â””â”€â”€ TaskLogs (æ“ä½œè®°å½•)

Files (æ–‡ä»¶ç®¡ç†)
â”œâ”€â”€ FileTypes (æ–‡ä»¶ç±»å‹)
â”œâ”€â”€ FilePermissions (æ–‡ä»¶æƒé™)
## ğŸš€ éƒ¨ç½²ä¸ç¯å¢ƒ

### ğŸ—ï¸ ç¯å¢ƒé…ç½®
```yaml
# å¼€å‘ç¯å¢ƒ
development:
  database_url: mysql://localhost:3306/huinong_dev
  redis_url: redis://localhost:6379/0
  file_storage: local
  log_level: debug

# ç”Ÿäº§ç¯å¢ƒ  
production:
  database_url: mysql://prod-db:3306/huinong_prod
  redis_url: redis://prod-redis:6379/1
  file_storage: oss
  log_level: info
```

### ğŸ”§ APIç½‘å…³é…ç½®
```yaml
gateway:
  rate_limit: 1000/minute
  cors_enabled: true
  auth_required: true
  request_timeout: 30s
  response_cache: 300s
```

### ğŸ“ˆ ç›‘æ§æŒ‡æ ‡
- **QPS**: æ¯ç§’è¯·æ±‚æ•°
- **å“åº”æ—¶é—´**: P95/P99å»¶è¿Ÿ
- **é”™è¯¯ç‡**: 4XX/5XXé”™è¯¯æ¯”ä¾‹
- **å¯ç”¨æ€§**: æœåŠ¡æ­£å¸¸è¿è¡Œæ—¶é—´
- **èµ„æºä½¿ç”¨**: CPU/å†…å­˜/ç½‘ç»œä½¿ç”¨ç‡

---

## ğŸ“ å¼€å‘æŒ‡å—

### ğŸ› ï¸ æœ¬åœ°å¼€å‘
```bash
# 1. å…‹éš†ä»£ç 
git clone https://github.com/company/huinong-backend.git

# 2. å®‰è£…ä¾èµ–
go mod download

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env

# 4. å¯åŠ¨æ•°æ®åº“
docker-compose up -d mysql redis

# 5. è¿è¡Œè¿ç§»
go run cmd/migrate/main.go

# 6. å¯åŠ¨æœåŠ¡
go run cmd/server/main.go
```

### ğŸ§ª æµ‹è¯•æŒ‡å—
```bash
# å•å…ƒæµ‹è¯•
go test ./...

# é›†æˆæµ‹è¯•
go test -tags=integration ./...

# APIæµ‹è¯•
newman run tests/api/postman_collection.json
```

### ğŸ“š æ–‡æ¡£ç”Ÿæˆ
```bash
# ç”ŸæˆAPIæ–‡æ¡£
swag init

# ç”Ÿæˆæ•°æ®æ¨¡å‹æ–‡æ¡£
go run tools/model-doc/main.go
```

---

## ğŸ”„ ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´è¯´æ˜ |
|------|------|----------|
| v1.3.1 | 2024-01-15 | **OAç™»å½•ç³»ç»Ÿä¼˜åŒ–** - åˆ é™¤éªŒè¯ç åŠŸèƒ½ï¼Œç®€åŒ–ç™»å½•æµç¨‹ï¼Œä¼˜åŒ–è·¯ç”±é…ç½® |
| v1.3.0 | 2024-04-01 | æ–°å¢ä¸“å®¶å’¨è¯¢åŠŸèƒ½ |
| v1.2.0 | 2024-03-01 | ä¼˜åŒ–è´·æ¬¾å®¡æ‰¹æµç¨‹ |
| v1.1.0 | 2024-02-01 | æ–°å¢å†œæœºç§Ÿèµæ¨¡å— |
| v1.0.0 | 2024-01-15 | åˆå§‹ç‰ˆæœ¬å‘å¸ƒ |

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ğŸ“‹ ä»£ç è§„èŒƒ
- éµå¾ª Go å®˜æ–¹ä»£ç è§„èŒƒ
- ä½¿ç”¨ gofmt æ ¼å¼åŒ–ä»£ç 
- æ·»åŠ å¿…è¦çš„å•å…ƒæµ‹è¯•
- ç¼–å†™æ¸…æ™°çš„æ³¨é‡Šæ–‡æ¡£

### ğŸ”€ æäº¤æµç¨‹
1. Fork é¡¹ç›®åˆ°ä¸ªäººä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ `git checkout -b feature/new-feature`
3. æäº¤ä»£ç  `git commit -m "Add new feature"`
4. æ¨é€åˆ†æ”¯ `git push origin feature/new-feature`
5. åˆ›å»º Pull Request

### ğŸ› é—®é¢˜åé¦ˆ
- ä½¿ç”¨ GitHub Issues æŠ¥å‘Šé—®é¢˜
- æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå¤ç°æ­¥éª¤
- æ ‡æ˜ç¯å¢ƒä¿¡æ¯å’Œç‰ˆæœ¬å·

---

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®è´Ÿè´£äºº**: æŠ€æœ¯å›¢é˜Ÿ
- **é‚®ç®±**: tech@huinong.com
- **æ–‡æ¡£ç»´æŠ¤**: APIæ–‡æ¡£å›¢é˜Ÿ
- **æ›´æ–°é¢‘ç‡**: æ¯å‘¨æ›´æ–°

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦æƒ…è¯·å‚é˜… [LICENSE](../../../LICENSE) æ–‡ä»¶ã€‚ 