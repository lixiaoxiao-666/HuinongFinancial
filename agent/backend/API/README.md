# æ•°å­—æƒ å†œç³»ç»Ÿ - API æ¥å£æ–‡æ¡£æ€»è§ˆ

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

æ•°å­—æƒ å†œç³»ç»Ÿæ˜¯ä¸€ä¸ªç»¼åˆæ€§çš„æ™ºæ…§å†œä¸šæœåŠ¡å¹³å°ï¼Œä¸ºå†œæˆ·æä¾›é‡‘èæœåŠ¡ã€å†œæœºç§Ÿèµã€æ”¿ç­–èµ„è®¯ã€æŠ€æœ¯æŒ‡å¯¼ç­‰ä¸€ç«™å¼æœåŠ¡ã€‚ç³»ç»Ÿé‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œæ”¯æŒç§»åŠ¨ç«¯APPå’ŒWebç«¯OAåå°ç®¡ç†ã€‚

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å‰ç«¯åº”ç”¨å±‚                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ç§»åŠ¨ç«¯APP      â”‚     Webç«¯        â”‚    OAç®¡ç†åå°     â”‚
â”‚   (iOS/Android)   â”‚   (Vue3 + TS)    â”‚   (Vue3 + TS)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     APIç½‘å…³å±‚                            â”‚
â”‚          ç»Ÿä¸€è·¯ç”±ã€è®¤è¯ã€é™æµã€ç›‘æ§                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ä¸šåŠ¡æœåŠ¡å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç”¨æˆ·ç®¡ç†   â”‚ è´·æ¬¾æœåŠ¡   â”‚ å†œæœºç§Ÿèµ   â”‚ å†…å®¹ç®¡ç†   â”‚ OAç®¡ç†   â”‚
â”‚ Service   â”‚ Service   â”‚ Service   â”‚ Service   â”‚ Service   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®å­˜å‚¨å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MySQL    â”‚  Redis    â”‚ MongoDB   â”‚   OSS     â”‚  Kafka   â”‚
â”‚ ä¸»æ•°æ®åº“   â”‚ ç¼“å­˜/ä¼šè¯  â”‚ æ—¥å¿—/ç»Ÿè®¡  â”‚ æ–‡ä»¶å­˜å‚¨   â”‚ æ¶ˆæ¯é˜Ÿåˆ— â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”§ æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**: Golang + Gin + GORM
- **æ•°æ®åº“**: MySQL 8.0 + Redis 6.0
- **æ–‡ä»¶å­˜å‚¨**: é˜¿é‡Œäº‘OSS / MinIO
- **æ¶ˆæ¯é˜Ÿåˆ—**: Apache Kafka
- **æœç´¢å¼•æ“**: Elasticsearch (å¯é€‰)
- **ç›‘æ§**: Prometheus + Grafana
- **éƒ¨ç½²**: Docker + Kubernetes

---

## ğŸ“š APIæ¨¡å—åˆ—è¡¨

### ğŸ” 1. ä¼šè¯ç®¡ç†æ¨¡å— [`session_management.md`](./session_management.md)
åŸºäºRedisçš„é«˜æ€§èƒ½åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šå¹³å°ã€å¤šåç«¯å®ä¾‹çš„ä¼šè¯åŒæ­¥ã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ”‘ **æ™ºèƒ½è®¤è¯**: ç”¨æˆ·ç™»å½•/ç™»å‡º/è‡ªåŠ¨Tokenåˆ·æ–°
- ğŸŒ **åˆ†å¸ƒå¼ä¼šè¯**: å¤šåç«¯å®ä¾‹å…±äº«ç”¨æˆ·ä¼šè¯çŠ¶æ€
- ğŸ“± **å¤šç«¯ç™»å½•**: æ”¯æŒAPP/Web/OAåŒæ—¶ç™»å½•ç®¡ç†
- ğŸ”’ **å®‰å…¨æ§åˆ¶**: å¼ºåˆ¶ä¸‹çº¿/è®¾å¤‡ç»‘å®š/å¼‚å¸¸æ£€æµ‹
- ğŸ“Š **æ™ºèƒ½è®¾å¤‡è¯†åˆ«**: è‡ªåŠ¨è¯†åˆ«æµè§ˆå™¨ç±»å‹ï¼Œä¼˜åŒ–è®¾å¤‡æ˜¾ç¤º
- ğŸ‘¥ **ä¼šè¯ç›‘æ§**: ç®¡ç†å‘˜å®æ—¶ä¼šè¯ç®¡ç†å’Œç»Ÿè®¡
- âš¡ **é«˜æ€§èƒ½**: Redisæ¯«ç§’çº§ä¼šè¯éªŒè¯ï¼Œæ”¯æŒé«˜å¹¶å‘

**æŠ€æœ¯ç‰¹æ€§:**
- ğŸš€ **Redisé›†ç¾¤**: æ”¯æŒRedisé›†ç¾¤éƒ¨ç½²ï¼Œä¿è¯é«˜å¯ç”¨
- ğŸ”„ **å®æ—¶åŒæ­¥**: ä¼šè¯çŠ¶æ€è·¨å®ä¾‹å®æ—¶åŒæ­¥
- ğŸ›¡ï¸ **å®‰å…¨æœºåˆ¶**: Tokenå“ˆå¸Œå­˜å‚¨ã€è®¾å¤‡æŒ‡çº¹ã€é˜²é‡æ”¾æ”»å‡»
- ğŸ“ˆ **æ€§èƒ½ä¼˜åŒ–**: è¿æ¥æ± ç®¡ç†ã€æ‰¹é‡æ“ä½œã€æ™ºèƒ½æ¸…ç†

**ä¸»è¦æ¥å£:**
```http
POST   /api/auth/login           # ç”¨æˆ·ç™»å½• (æ™ºèƒ½è®¾å¤‡æ£€æµ‹)
POST   /api/auth/refresh         # é€šç”¨Tokenåˆ·æ–°
POST   /api/oa/auth/refresh      # OAä¸“ç”¨Tokenåˆ·æ–°
GET    /api/auth/validate        # ä¼šè¯éªŒè¯
POST   /api/user/logout          # ç”¨æˆ·ç™»å‡º
GET    /api/user/session/info    # è·å–ç”¨æˆ·ä¼šè¯åˆ—è¡¨
DELETE /api/user/session/{id}    # æ³¨é”€æŒ‡å®šä¼šè¯
POST   /api/user/session/revoke-others # æ³¨é”€å…¶ä»–è®¾å¤‡
GET    /api/admin/sessions/statistics # ä¼šè¯ç»Ÿè®¡
```

### ğŸ‘¤ 2. ç”¨æˆ·ç®¡ç†æ¨¡å— [`user_management.md`](./user_management.md)
å®Œæ•´çš„ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œæ”¯æŒå¤šç§ç”¨æˆ·ç±»å‹å’Œèº«ä»½è®¤è¯ã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ“ ç”¨æˆ·æ³¨å†Œç™»å½• (æ‰‹æœº/å¯†ç /éªŒè¯ç )
- ğŸ†” èº«ä»½è®¤è¯ (å®å/é“¶è¡Œå¡/å¾ä¿¡)
- ğŸ“‹ ä¿¡æ¯ç®¡ç† (ä¸ªäººèµ„æ–™/åœ°å€/å¤´åƒ)
- ğŸ·ï¸ ç”¨æˆ·æ ‡ç­¾ (è¡Œä¸ºåˆ†æ/ç²¾å‡†æ¨è)
- ğŸ’° è´¦æˆ·ç®¡ç† (ä½™é¢/æµæ°´/ç»Ÿè®¡)

**ä¸»è¦æ¥å£:**
```http
POST   /api/auth/register        # ç”¨æˆ·æ³¨å†Œ
POST   /api/auth/send-sms        # å‘é€éªŒè¯ç 
GET    /api/user/profile         # è·å–ç”¨æˆ·ä¿¡æ¯
POST   /api/user/auth/real-name  # å®åè®¤è¯ç”³è¯·
GET    /api/user/balance         # è·å–è´¦æˆ·ä½™é¢
```

### ğŸ’° 3. è´·æ¬¾ç®¡ç†æ¨¡å— [`loan_management.md`](./loan_management.md)
æ™ºèƒ½åŒ–è´·æ¬¾æœåŠ¡ï¼Œé›†æˆAIé£é™©è¯„ä¼°å’Œè‡ªåŠ¨åŒ–å®¡æ‰¹æµç¨‹ã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ¦ è´·æ¬¾äº§å“ç®¡ç† (äº§å“ç›®å½•/è¯¦æƒ…æŸ¥è¯¢)
- ğŸ“‹ ç”³è¯·æµç¨‹ (åœ¨çº¿ç”³è¯·/ææ–™ä¸Šä¼ /çŠ¶æ€è·Ÿè¸ª)
- ğŸ¤– AIæ™ºèƒ½å®¡æ‰¹ (é£é™©è¯„ä¼°/é¢åº¦è®¡ç®—)
- ğŸ’³ åˆåŒç®¡ç† (ç”µå­ç­¾çº¦/æ”¾æ¬¾ç¡®è®¤)
- ğŸ“Š è¿˜æ¬¾ç®¡ç† (è®¡åˆ’æŸ¥è¯¢/ä¸»åŠ¨è¿˜æ¬¾/æå‰è¿˜æ¬¾)

**ä¸»è¦æ¥å£:**
```http
GET    /api/loans/products       # è·å–è´·æ¬¾äº§å“
POST   /api/loans/applications   # æäº¤è´·æ¬¾ç”³è¯·
GET    /api/loans/credit-limit   # è·å–ä¿¡ç”¨é¢åº¦
POST   /api/loans/{id}/repayment # ä¸»åŠ¨è¿˜æ¬¾
GET    /api/loans/overview       # è´·æ¬¾æ¦‚è§ˆ
```

### ğŸšœ 4. å†œæœºç§Ÿèµæ¨¡å— [`machine_rental.md`](./machine_rental.md)
å…¨æµç¨‹å†œæœºç§ŸèµæœåŠ¡ï¼Œæ”¯æŒè®¾å¤‡æœç´¢ã€é¢„çº¦ã€ä½¿ç”¨è·Ÿè¸ªå’Œå½’è¿˜ç®¡ç†ã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ” è®¾å¤‡æœç´¢ (å¤šç»´åº¦ç­›é€‰/åœ°ç†ä½ç½®åŒ¹é…)
- ğŸ“… é¢„çº¦ç®¡ç† (æ—¶é—´è§„åˆ’/å†²çªæ£€æµ‹/æ™ºèƒ½æ¨è)
- ğŸ’¼ è®¢å•ç®¡ç† (åœ¨çº¿æ”¯ä»˜/åˆåŒç­¾ç½²/æœåŠ¡ç¡®è®¤)
- ğŸ“ è®¾å¤‡è·Ÿè¸ª (GPSå®šä½/çŠ¶æ€ç›‘æ§/ä½¿ç”¨ç»Ÿè®¡)
- ğŸ”„ å½’è¿˜æµç¨‹ (çŠ¶æ€æ£€æŸ¥/è´¹ç”¨ç»“ç®—/è¯„ä»·åé¦ˆ)

**ä¸»è¦æ¥å£:**
```http
GET    /api/machines/search      # æœç´¢å†œæœºè®¾å¤‡
POST   /api/machines/reservations # åˆ›å»ºé¢„çº¦
GET    /api/machines/{id}/location # è·å–è®¾å¤‡ä½ç½®
POST   /api/machines/orders/{id}/return # ç”³è¯·å½’è¿˜
GET    /api/machines/statistics  # ç§Ÿèµç»Ÿè®¡
```

### ğŸ“° 5. å†…å®¹ç®¡ç†æ¨¡å— [`content_management.md`](./content_management.md)
ä¸°å¯Œçš„å†œä¸šå†…å®¹æœåŠ¡ï¼Œæä¾›èµ„è®¯ã€æ”¿ç­–ã€ä¸“å®¶å’¨è¯¢ç­‰ä¿¡æ¯åŒ–æ”¯æŒã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ“° èµ„è®¯ç®¡ç† (å†œä¸šæ–°é—»/æŠ€æœ¯èµ„è®¯/å¸‚åœºè¡Œæƒ…)
- ğŸ“‹ æ”¿ç­–æœåŠ¡ (æ”¿ç­–å‘å¸ƒ/è§£è¯»/åœ¨çº¿ç”³è¯·)
- ğŸ‘¨â€ğŸ“ ä¸“å®¶å’¨è¯¢ (åœ¨çº¿é—®ç­”/æŠ€æœ¯æŒ‡å¯¼/çŸ¥è¯†åº“)
- ğŸ”” é€šçŸ¥ç®¡ç† (ç³»ç»Ÿé€šçŸ¥/æ¶ˆæ¯æ¨é€/çŠ¶æ€æé†’)
- ğŸ·ï¸ å†…å®¹åˆ†ç±» (æ™ºèƒ½æ ‡ç­¾/ä¸ªæ€§åŒ–æ¨è)

**ä¸»è¦æ¥å£:**
```http
GET    /api/content/articles     # è·å–èµ„è®¯åˆ—è¡¨
GET    /api/content/policies     # è·å–æ”¿ç­–åˆ—è¡¨
POST   /api/content/consultations # æäº¤å’¨è¯¢é—®é¢˜
GET    /api/content/notifications # è·å–é€šçŸ¥åˆ—è¡¨
POST   /api/content/articles/{id}/like # ç‚¹èµæ–‡ç« 
```

### ğŸ¢ 6. OAåå°ç®¡ç†æ¨¡å— [`oa_management.md`](./oa_management.md)
å…¨é¢çš„åå°ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒä¸šåŠ¡å®¡æ‰¹ã€æ•°æ®ç»Ÿè®¡ã€ç³»ç»Ÿé…ç½®ç­‰ç®¡ç†éœ€æ±‚ã€‚

**æ ¸å¿ƒåŠŸèƒ½:**
- ğŸ‘¥ ç”¨æˆ·ç®¡ç† (ç”¨æˆ·åˆ—è¡¨/çŠ¶æ€ç®¡ç†/æƒé™æ§åˆ¶)
- ğŸ“‹ å®¡æ‰¹ç®¡ç† (è´·æ¬¾å®¡æ‰¹/è®¤è¯å®¡æ ¸/AIè¾…åŠ©å†³ç­–)
- ğŸ“Š æ•°æ®ç»Ÿè®¡ (ä¸šåŠ¡æŠ¥è¡¨/é£é™©ç›‘æ§/ç”¨æˆ·åˆ†æ)
- âš™ï¸ ç³»ç»Ÿé…ç½® (å‚æ•°è®¾ç½®/é€šçŸ¥æ¨¡æ¿/æƒé™ç®¡ç†)
- ğŸ” æ—¥å¿—å®¡è®¡ (æ“ä½œè®°å½•/ç³»ç»Ÿæ—¥å¿—/å®‰å…¨ç›‘æ§)

**ä¸»è¦æ¥å£:**
```http
POST   /api/oa/auth/login        # ç®¡ç†å‘˜ç™»å½• (å·²ç®€åŒ–ï¼Œæ— éœ€éªŒè¯ç )
GET    /api/oa/users             # è·å–ç”¨æˆ·åˆ—è¡¨
POST   /api/oa/loan-applications/{id}/review # å®¡æ‰¹è´·æ¬¾ç”³è¯·
GET    /api/oa/dashboard/overview # è·å–ä¸šåŠ¡æ¦‚è§ˆ
GET    /api/oa/logs/operations   # è·å–æ“ä½œæ—¥å¿—
```

**ğŸ†• æœ€æ–°æ›´æ–° (2024-01-15):**
- âœ… **ç®€åŒ–ç™»å½•æµç¨‹**: åˆ é™¤éªŒè¯ç åŠŸèƒ½ï¼Œæå‡ç®¡ç†å‘˜ç™»å½•ä½“éªŒ
- âœ… **è·¯ç”±ä¼˜åŒ–**: è°ƒæ•´è®¤è¯æ¥å£è·¯ç”±é…ç½®ï¼Œæå‡å®‰å…¨æ€§
- âœ… **ä»£ç é‡æ„**: ä¿®å¤å‡½æ•°é‡å¤å£°æ˜ï¼Œå®Œå–„OAæœåŠ¡å®ç°

---

## ğŸ”— APIè®¾è®¡è§„èŒƒ

### ğŸ“‹ URLè§„èŒƒ
```
{protocol}://{domain}/api/{version}/{module}/{resource}[/{id}][/{action}]

ç¤ºä¾‹ï¼š
https://api.huinong.com/api/v1/loans/applications/LA20240115001/review
```

### ğŸ·ï¸ HTTPæ–¹æ³•è§„èŒƒ
- `GET` - æŸ¥è¯¢æ•°æ®
- `POST` - åˆ›å»ºèµ„æº
- `PUT` - æ›´æ–°æ•´ä¸ªèµ„æº
- `PATCH` - éƒ¨åˆ†æ›´æ–°èµ„æº
- `DELETE` - åˆ é™¤èµ„æº

### ğŸ“¦ å“åº”æ ¼å¼è§„èŒƒ
```json
{
    "code": 200,
    "message": "æ“ä½œæˆåŠŸ",
    "data": {
        // å“åº”æ•°æ®
    },
    "meta": {
        "timestamp": "2024-01-15T10:30:00Z",
        "request_id": "req_abc123",
        "pagination": {
            "page": 1,
            "limit": 20,
            "total": 100
        }
    }
}
```

### ğŸ”’ è®¤è¯æ–¹å¼
```http
Authorization: Bearer {access_token}
```

### âš ï¸ é”™è¯¯ç è§„èŒƒ
```
1xxx - ç”¨æˆ·ç›¸å…³é”™è¯¯
2xxx - è´·æ¬¾ç›¸å…³é”™è¯¯  
3xxx - å†œæœºç›¸å…³é”™è¯¯
4xxx - OAç®¡ç†ç›¸å…³é”™è¯¯
5xxx - å†…å®¹ç›¸å…³é”™è¯¯
6xxx - ç³»ç»Ÿç›¸å…³é”™è¯¯
```

---

## ğŸ” è®¤è¯ä¸æˆæƒ

### ğŸ« Tokenæœºåˆ¶
- **Access Token**: æœ‰æ•ˆæœŸ24å°æ—¶ï¼Œç”¨äºAPIè°ƒç”¨
- **Refresh Token**: æœ‰æ•ˆæœŸ7å¤©ï¼Œç”¨äºåˆ·æ–°Access Token
- **Session ID**: ä¼šè¯æ ‡è¯†ï¼Œå­˜å‚¨åœ¨Redisä¸­

### ğŸ‘¥ ç”¨æˆ·ç±»å‹
- **farmer** - ä¸ªä½“å†œæˆ·
- **farm_owner** - å®¶åº­å†œåœºä¸»  
- **cooperative** - å†œæ°‘åˆä½œç¤¾
- **enterprise** - å†œä¸šä¼ä¸š
- **admin** - ç³»ç»Ÿç®¡ç†å‘˜

### ğŸ”’ æƒé™æ§åˆ¶
```
user_view        - æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯
user_manage      - ç®¡ç†ç”¨æˆ·
loan_view        - æŸ¥çœ‹è´·æ¬¾ä¿¡æ¯
loan_approve     - å®¡æ‰¹è´·æ¬¾
machine_manage   - ç®¡ç†å†œæœº
content_manage   - ç®¡ç†å†…å®¹
system_config    - ç³»ç»Ÿé…ç½®
```

---

## ğŸ“Š æ•°æ®æ¨¡å‹å…³ç³»

```
Users (ç”¨æˆ·è¡¨)
â”œâ”€â”€ UserAuths (è®¤è¯ä¿¡æ¯)
â”œâ”€â”€ UserSessions (ä¼šè¯è®°å½•) 
â”œâ”€â”€ UserTags (ç”¨æˆ·æ ‡ç­¾)
â”œâ”€â”€ UserAddresses (åœ°å€ä¿¡æ¯)
â””â”€â”€ UserTransactions (äº¤æ˜“è®°å½•)

LoanApplications (è´·æ¬¾ç”³è¯·)
â”œâ”€â”€ LoanProducts (è´·æ¬¾äº§å“)
â”œâ”€â”€ LoanContracts (è´·æ¬¾åˆåŒ)
â”œâ”€â”€ LoanRepayments (è¿˜æ¬¾è®°å½•)
â””â”€â”€ LoanReviews (å®¡æ‰¹è®°å½•)

MachineRentals (å†œæœºç§Ÿèµ)
â”œâ”€â”€ Machines (å†œæœºè®¾å¤‡)
â”œâ”€â”€ MachineReservations (é¢„çº¦è®°å½•)
â”œâ”€â”€ MachineOrders (ç§Ÿèµè®¢å•)
â””â”€â”€ MachineReturns (å½’è¿˜è®°å½•)

Content (å†…å®¹ç®¡ç†)
â”œâ”€â”€ Articles (æ–‡ç« èµ„è®¯)
â”œâ”€â”€ Policies (æ”¿ç­–ä¿¡æ¯)
â”œâ”€â”€ Experts (ä¸“å®¶ä¿¡æ¯)
â”œâ”€â”€ Consultations (å’¨è¯¢è®°å½•)
â””â”€â”€ Notifications (é€šçŸ¥æ¶ˆæ¯)
```

---

## ğŸš€ éƒ¨ç½²ä¸ç¯å¢ƒ

### ğŸ—ï¸ ç¯å¢ƒé…ç½®
```yaml
# å¼€å‘ç¯å¢ƒ
development:
  database_url: mysql://localhost:3306/huinong_dev
  redis_url: redis://localhost:6379/0
  file_storage: local
  log_level: debug

# ç”Ÿäº§ç¯å¢ƒ  
production:
  database_url: mysql://prod-db:3306/huinong_prod
  redis_url: redis://prod-redis:6379/1
  file_storage: oss
  log_level: info
```

### ğŸ”§ APIç½‘å…³é…ç½®
```yaml
gateway:
  rate_limit: 1000/minute
  cors_enabled: true
  auth_required: true
  request_timeout: 30s
  response_cache: 300s
```

### ğŸ“ˆ ç›‘æ§æŒ‡æ ‡
- **QPS**: æ¯ç§’è¯·æ±‚æ•°
- **å“åº”æ—¶é—´**: P95/P99å»¶è¿Ÿ
- **é”™è¯¯ç‡**: 4XX/5XXé”™è¯¯æ¯”ä¾‹
- **å¯ç”¨æ€§**: æœåŠ¡æ­£å¸¸è¿è¡Œæ—¶é—´
- **èµ„æºä½¿ç”¨**: CPU/å†…å­˜/ç½‘ç»œä½¿ç”¨ç‡

---

## ğŸ“ å¼€å‘æŒ‡å—

### ğŸ› ï¸ æœ¬åœ°å¼€å‘
```bash
# 1. å…‹éš†ä»£ç 
git clone https://github.com/company/huinong-backend.git

# 2. å®‰è£…ä¾èµ–
go mod download

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env

# 4. å¯åŠ¨æ•°æ®åº“
docker-compose up -d mysql redis

# 5. è¿è¡Œè¿ç§»
go run cmd/migrate/main.go

# 6. å¯åŠ¨æœåŠ¡
go run cmd/server/main.go
```

### ğŸ§ª æµ‹è¯•æŒ‡å—
```bash
# å•å…ƒæµ‹è¯•
go test ./...

# é›†æˆæµ‹è¯•
go test -tags=integration ./...

# APIæµ‹è¯•
newman run tests/api/postman_collection.json
```

### ğŸ“š æ–‡æ¡£ç”Ÿæˆ
```bash
# ç”ŸæˆAPIæ–‡æ¡£
swag init

# ç”Ÿæˆæ•°æ®æ¨¡å‹æ–‡æ¡£
go run tools/model-doc/main.go
```

---

## ğŸ”„ ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´è¯´æ˜ |
|------|------|----------|
| v1.3.1 | 2024-01-15 | **OAç™»å½•ç³»ç»Ÿä¼˜åŒ–** - åˆ é™¤éªŒè¯ç åŠŸèƒ½ï¼Œç®€åŒ–ç™»å½•æµç¨‹ï¼Œä¼˜åŒ–è·¯ç”±é…ç½® |
| v1.3.0 | 2024-04-01 | æ–°å¢ä¸“å®¶å’¨è¯¢åŠŸèƒ½ |
| v1.2.0 | 2024-03-01 | ä¼˜åŒ–è´·æ¬¾å®¡æ‰¹æµç¨‹ |
| v1.1.0 | 2024-02-01 | æ–°å¢å†œæœºç§Ÿèµæ¨¡å— |
| v1.0.0 | 2024-01-15 | åˆå§‹ç‰ˆæœ¬å‘å¸ƒ |

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ğŸ“‹ ä»£ç è§„èŒƒ
- éµå¾ª Go å®˜æ–¹ä»£ç è§„èŒƒ
- ä½¿ç”¨ gofmt æ ¼å¼åŒ–ä»£ç 
- æ·»åŠ å¿…è¦çš„å•å…ƒæµ‹è¯•
- ç¼–å†™æ¸…æ™°çš„æ³¨é‡Šæ–‡æ¡£

### ğŸ”€ æäº¤æµç¨‹
1. Fork é¡¹ç›®åˆ°ä¸ªäººä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ `git checkout -b feature/new-feature`
3. æäº¤ä»£ç  `git commit -m "Add new feature"`
4. æ¨é€åˆ†æ”¯ `git push origin feature/new-feature`
5. åˆ›å»º Pull Request

### ğŸ› é—®é¢˜åé¦ˆ
- ä½¿ç”¨ GitHub Issues æŠ¥å‘Šé—®é¢˜
- æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå¤ç°æ­¥éª¤
- æ ‡æ˜ç¯å¢ƒä¿¡æ¯å’Œç‰ˆæœ¬å·

---

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®è´Ÿè´£äºº**: æŠ€æœ¯å›¢é˜Ÿ
- **é‚®ç®±**: tech@huinong.com
- **æ–‡æ¡£ç»´æŠ¤**: APIæ–‡æ¡£å›¢é˜Ÿ
- **æ›´æ–°é¢‘ç‡**: æ¯å‘¨æ›´æ–°

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦æƒ…è¯·å‚é˜… [LICENSE](../../../LICENSE) æ–‡ä»¶ã€‚ 